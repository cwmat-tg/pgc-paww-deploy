"use strict";(self.webpackChunkpgc_paww_frontend=self.webpackChunkpgc_paww_frontend||[]).push([[680],{5680:(L,d,n)=>{n.r(d),n.d(d,{HomeModule:()=>J});var b=n(8239),f=n(1954),o=n(7716),c=n(5987),g=n(8791),C=n(5009),m=n(5618),u=n(1095),H=n(4732),x=n(5758),P=n(3757),M=n(5162),h=n(1338),y=n(2340),T=n(7298),A=n(2238),Z=n(1228),O=n(8583),U=n(1436),S=n(5047);function B(t,i){if(1&t){const e=o.EpF();o.TgZ(0,"button",1),o.NdJ("click",function(){return o.CHM(e),o.oxw().clicked()}),o._uU(1," Upload\n"),o.qZA()}if(2&t){const e=o.oxw();o.Q6J("matTooltip",e.tooltipText)("matBadge",e.offlineObsCount)}}let w=(()=>{class t{constructor(e,a,s,r){this.api=e,this.dialog=a,this.connectionService=s,this.localStorageService=r,this.tooltipText=h.A.UploadTooltip,this.count=0,this.offlineObs=[],this.offlineObsCount=0,this.uploadProcessed=new o.vpe,this.isOffline=this.connectionService.isOffline,this.isOffline$=this.connectionService.isOffline$().subscribe(p=>{this.isOffline=p})}ngOnDestroy(){this.isOffline$.unsubscribe()}clicked(){this.dialog.open(P.W,{width:"35rem",data:{title:"Upload Observations",text:h.A.UploadTooltip,confirm:"Confirm Upload",cancel:"Cancel"},disableClose:!1}).afterClosed().subscribe(a=>{a&&this.offlineObs.forEach(s=>{this.processUpload(Object.assign({},s))})})}processUpload(e){const a=this.dialog.open(M.b,{width:"25rem",data:"Saving Observation.",disableClose:!0}),r=e.media;this.api.createObservation(e.data).subscribe(p=>{const v=[],I=y.N.useTestApi?p.name:p.confirmationnumber;r.length>0?(r.forEach(l=>{v.push(this.api.createObservationMedia(Object.assign(Object.assign({},l),{ConfirmationNumber:I})))}),(0,x.D)(v).subscribe(l=>{console.log(l),a.close(),this.localStorageService.removeObservation(e.dbId),this.uploadProcessed.emit()},l=>{console.error(l),a.close()})):(a.close(),this.localStorageService.removeObservation(e.dbId),this.uploadProcessed.emit())},p=>{console.error(p),a.close()})}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(T.s),o.Y36(A.uw),o.Y36(Z.M),o.Y36(g.n))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-upload-offline"]],inputs:{offlineObs:"offlineObs",offlineObsCount:"offlineObsCount"},outputs:{uploadProcessed:"uploadProcessed"},decls:1,vars:1,consts:[["mat-raised-button","","color","warn","matBadgePosition","before","matBadgeColor","accent",3,"matTooltip","matBadge","click",4,"ngIf"],["mat-raised-button","","color","warn","matBadgePosition","before","matBadgeColor","accent",3,"matTooltip","matBadge","click"]],template:function(e,a){1&e&&o.YNc(0,B,2,2,"button",0),2&e&&o.Q6J("ngIf",a.offlineObsCount>0&&!a.isOffline)},directives:[O.O5,u.lW,U.gM,S.k],styles:[""]}),t})();const F=[{path:"",component:(()=>{class t{constructor(e,a){this.router=e,this.localStorageService=a,this.appName=f.y.AppName,this.appAbbrev=f.y.AppAbbrev,this.offlineObs=[],this.offlineObsCount=0}ngOnInit(){this.loadOfflineObservations()}createObservation(){this.router.navigate(["/app/observation"])}loadOfflineObservations(){var e=this;return(0,b.Z)(function*(){e.offlineObs=yield e.localStorageService.getObservations(),e.offlineObsCount=e.offlineObs.length})()}uploadProcessed(){this.loadOfflineObservations()}}return t.\u0275fac=function(e){return new(e||t)(o.Y36(c.F0),o.Y36(g.n))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-home"]],decls:16,vars:5,consts:[["id","appHomeContainer"],["id","appHomeImage"],["id","appHomepageContent"],[1,"appFillContainer"],["fxLayout","row","fxLayout.xs","column","fxLayout.sm","column","fxLayoutAlign","end center","fxLayoutAlign.xs","start center","fxLayoutAlign.sm","start center","fxFlex",""],["fxFlex","50","fxFlex.xs","100","fxFlex.sm","100","id","appHeroContainer"],["id","appHeroHeader",1,"appHomepageText"],["id","appHeroContent",1,"appHomepageText"],["mat-flat-button","","color","basic","id","appObservationButton","type","button",3,"click"],[1,"appOnHomepage"],["id","appUploadButtonContainer"],[3,"offlineObs","offlineObsCount","uploadProcessed"]],template:function(e,a){1&e&&(o.TgZ(0,"div",0),o._UZ(1,"app-header"),o._UZ(2,"div",1),o.TgZ(3,"div",2),o.TgZ(4,"div",3),o.TgZ(5,"div",4),o.TgZ(6,"div",5),o.TgZ(7,"h1",6),o._uU(8),o.qZA(),o.TgZ(9,"div",7),o._uU(10),o.qZA(),o.TgZ(11,"button",8),o.NdJ("click",function(){return a.createObservation()}),o._uU(12," Submit an Observation "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(13,"app-footer",9),o.qZA(),o.TgZ(14,"div",10),o.TgZ(15,"app-upload-offline",11),o.NdJ("uploadProcessed",function(){return a.uploadProcessed()}),o.qZA(),o.qZA()),2&e&&(o.xp6(8),o.Oqu(a.appName),o.xp6(2),o.AsE(" ",a.appName," (",a.appAbbrev,") is lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Lobortis mattis aliquam faucibus purus in massa tempor. Quam quisque id diam vel quam. Cursus eget nunc scelerisque viverra mauris. Aliquam purus sit amet luctus venenatis. "),o.xp6(5),o.Q6J("offlineObs",a.offlineObs)("offlineObsCount",a.offlineObsCount))},directives:[C.G,m.xw,m.Wh,m.yH,u.lW,H.c,w],styles:["#appHomeContainer[_ngcontent-%COMP%]{background-color:#000;height:100vh;width:100vw;position:absolute;top:0;left:0}#appHomeImage[_ngcontent-%COMP%]{height:100vh;background-image:url(/pgc-paww-deploy/homepage.854289dfb81ca194e267.jpg);background-size:cover;background-position:center}#appHomepageContent[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100vh;width:100vw}.appFillContainer[_ngcontent-%COMP%]{background:linear-gradient(270deg,#2a381e 0%,rgba(42,56,30,.25) 100%)}#appHeroContainer[_ngcontent-%COMP%]{margin-right:3rem}.appHomepageText[_ngcontent-%COMP%]{text-align:end;color:#fff}#appHeroHeader[_ngcontent-%COMP%]{font-size:2.75rem;font-weight:800;letter-spacing:0;line-height:3.75rem}#appHeroContent[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:600;letter-spacing:0;line-height:1.875rem}#appObservationButton[_ngcontent-%COMP%]{float:right;color:#0b0603;font-size:1.438rem;font-weight:800;letter-spacing:0;line-height:2rem;margin-top:2rem;min-height:3.75rem;min-width:21.875rem}#appDisclaimer[_ngcontent-%COMP%]{position:absolute;bottom:2rem;left:2rem;color:#fff;margin-right:2rem}[_nghost-%COMP%]     app-header{position:fixed;width:100%;z-index:99}[_nghost-%COMP%]     app-footer.appOnHomepage{position:absolute;width:100%;z-index:99;bottom:0}#appUploadButtonContainer[_ngcontent-%COMP%]{position:absolute;left:2rem;bottom:5rem}@media only screen and (max-width: 480px){#appHeroContainer[_ngcontent-%COMP%]{margin-right:.5rem;margin-left:.5rem}.appHomepageText[_ngcontent-%COMP%]{text-align:center}#appObservationButton[_ngcontent-%COMP%]{float:none;margin:2rem auto auto;display:block}#appHomepageContent[_ngcontent-%COMP%]{padding-top:4.5rem}[_nghost-%COMP%]     app-footer.appOnHomepage{bottom:auto}}@media only screen and (min-width: 321px){#appHomepageContent[_ngcontent-%COMP%]{padding-top:4.5rem}[_nghost-%COMP%]     app-footer.appOnHomepage{bottom:auto}}@media only screen and (min-width: 1224px){#appHomepageContent[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]     app-footer.appOnHomepage{bottom:0}}@media only screen and (min-width: 1824px){#appHomepageContent[_ngcontent-%COMP%]{padding-top:0}[_nghost-%COMP%]     app-footer.appOnHomepage{bottom:0}}"]}),t})()}];let N=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[c.Bz.forChild(F)],c.Bz]}),t})();var z=n(2249);let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[O.ez,z.m,N]]}),t})()}}]);