(self.webpackChunkpgc_paww_frontend=self.webpackChunkpgc_paww_frontend||[]).push([[772],{4745:function(Bt){Bt.exports=function(){"use strict";var rt="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function I(t,n){rt=t,V=n}var V=function(){return!0},b=!new Error("").stack;function g(){if(b)try{throw new Error}catch(t){return t}return new Error}function it(t,n){var o=t.stack;return o?(n=n||0,0===o.indexOf(t.name)&&(n+=(t.name+t.message).split("\n").length),o.split("\n").slice(n).filter(V).map(function(c){return"\n"+c}).join("")):""}function B(){}function ft(t){return t}function dt(t,n){return null==t||t===ft?n:function(o){return n(t(o))}}function et(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function x(t,n){return t===B?n:function(){var o=t.apply(this,arguments);void 0!==o&&(arguments[0]=o);var c=this.onsuccess,p=this.onerror;this.onsuccess=null,this.onerror=null;var y=n.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?et(c,this.onsuccess):c),p&&(this.onerror=this.onerror?et(p,this.onerror):p),void 0!==y?y:o}}function vt(t,n){return t===B?n:function(){t.apply(this,arguments);var o=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),o&&(this.onsuccess=this.onsuccess?et(o,this.onsuccess):o),c&&(this.onerror=this.onerror?et(c,this.onerror):c)}}function lt(t,n){return t===B?n:function(o){var c=t.apply(this,arguments);j(o,c);var p=this.onsuccess,y=this.onerror;this.onsuccess=null,this.onerror=null;var T=n.apply(this,arguments);return p&&(this.onsuccess=this.onsuccess?et(p,this.onsuccess):p),y&&(this.onerror=this.onerror?et(y,this.onerror):y),void 0===c?void 0===T?void 0:T:j(c,T)}}function N(t,n){return t===B?n:function(){return!1!==n.apply(this,arguments)&&t.apply(this,arguments)}}function yt(t,n){return t===B?n:function(){var o=t.apply(this,arguments);if(o&&"function"==typeof o.then){for(var c=this,p=arguments.length,y=new Array(p);p--;)y[p]=arguments[p];return o.then(function(){return n.apply(c,y)})}return n.apply(this,arguments)}}var A=Object.keys,J=Array.isArray,ot="undefined"!=typeof self?self:"undefined"!=typeof window?window:global;function j(t,n){return"object"!=typeof n||A(n).forEach(function(o){t[o]=n[o]}),t}function Dt(t,n){var o={};return A(t).forEach(function(c){n(t[c])&&(o[c]=t[c])}),o}var It=Object.getPrototypeOf,K={}.hasOwnProperty;function P(t,n){return K.call(t,n)}function H(t,n){"function"==typeof n&&(n=n(It(t))),A(n).forEach(function(o){Q(t,o,n[o])})}function Q(t,n,o,c){Object.defineProperty(t,n,j(o&&P(o,"get")&&"function"==typeof o.get?{get:o.get,set:o.set,configurable:!0}:{value:o,configurable:!0,writable:!0},c))}function $(t){return{from:function(n){return t.prototype=Object.create(n.prototype),Q(t.prototype,"constructor",t),{extend:H.bind(null,t.prototype)}}}}var Pt=Object.getOwnPropertyDescriptor;function kt(t,n){var c;return Pt(t,n)||(c=It(t))&&kt(c,n)}var nn=[].slice;function In(t,n,o){return nn.call(t,n,o)}function re(t,n){return n(t)}function dn(t){var n=setTimeout(t,1e3);clearTimeout(n)}function en(t){if(!t)throw new O.Internal("Assertion failed")}function ie(t){ot.setImmediate?setImmediate(t):setTimeout(t,0)}function Pn(t,n){return t.reduce(function(o,c,p){var y=n(c,p);return y&&(o[y[0]]=y[1]),o},{})}function Ht(t,n,o){try{t.apply(null,o)}catch(c){n&&n(c)}}function Et(t,n){var o=M.reject(t);return n?o.uncaught(n):o}function bt(t,n){if(P(t,n))return t[n];if(!n)return t;if("string"!=typeof n){for(var o=[],c=0,p=n.length;c<p;++c){var y=bt(t,n[c]);o.push(y)}return o}var T=n.indexOf(".");if(-1!==T){var R=t[n.substr(0,T)];return void 0===R?void 0:bt(R,n.substr(T+1))}}function mt(t,n,o){if(t&&void 0!==n&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if("string"!=typeof n&&"length"in n){en("string"!=typeof o&&"length"in o);for(var c=0,p=n.length;c<p;++c)mt(t,n[c],o[c])}else{var y=n.indexOf(".");if(-1!==y){var T=n.substr(0,y),R=n.substr(y+1);if(""===R)void 0===o?delete t[T]:t[T]=o;else{var W=t[T];W||(W=t[T]={}),mt(W,R,o)}}else void 0===o?delete t[n]:t[n]=o}}function kn(t){var n={};for(var o in t)P(t,o)&&(n[o]=t[o]);return n}function Kt(t){if(!t||"object"!=typeof t)return t;var n;if(J(t)){n=[];for(var o=0,c=t.length;o<c;++o)n.push(Kt(t[o]))}else if(t instanceof Date)(n=new Date).setTime(t.getTime());else for(var p in n=t.constructor?Object.create(t.constructor.prototype):{},t)P(t,p)&&(n[p]=Kt(t[p]));return n}function Mn(t,n,o,c){return o=o||{},c=c||"",A(t).forEach(function(p){if(P(n,p)){var y=t[p],T=n[p];"object"==typeof y&&"object"==typeof T&&y&&T&&y.constructor===T.constructor?Mn(y,T,o,c+p+"."):y!==T&&(o[c+p]=n[p])}else o[c+p]=void 0}),A(n).forEach(function(p){P(t,p)||(o[c+p]=n[p])}),o}var ae="undefined"!=typeof Symbol&&Symbol.iterator,Ae=ae?function(t){var n;return null!=t&&(n=t[ae])&&n.apply(t)}:function(){return null},qt={};function Lt(t){var n,o,c,p;if(1===arguments.length){if(J(t))return t.slice();if(this===qt&&"string"==typeof t)return[t];if(p=Ae(t)){for(o=[];!(c=p.next()).done;)o.push(c.value);return o}if(null==t)return[t];if("number"==typeof(n=t.length)){for(o=new Array(n);n--;)o[n]=t[n];return o}return[t]}for(n=arguments.length,o=new Array(n);n--;)o[n]=arguments[n];return o}var Oe=[].concat;function Ce(t){return Oe.apply([],t)}var ue=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Rn=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"].concat(ue),Pe={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function Vt(t,n){this._e=g(),this.name=t,this.message=n}function vn(t,n,o,c){this._e=g(),this.failures=n,this.failedKeys=c,this.successCount=o}function rn(t,n){this._e=g(),this.name="BulkError",this.failures=n,this.message=function(t,n){return t+". Errors: "+n.map(function(o){return o.toString()}).filter(function(o,c,p){return p.indexOf(o)===c}).join("\n")}(t,n)}$(Vt).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+it(this._e,2))}},toString:function(){return this.name+": "+this.message}}),$(vn).from(Vt),$(rn).from(Vt);var Me=Rn.reduce(function(t,n){return t[n]=n+"Error",t},{}),Re=Vt,O=Rn.reduce(function(t,n){var o=n+"Error";function c(p,y){this._e=g(),this.name=o,p?"string"==typeof p?(this.message=p,this.inner=y||null):"object"==typeof p&&(this.message=p.name+" "+p.message,this.inner=p):(this.message=Pe[n]||o,this.inner=null)}return $(c).from(Re),t[n]=c,t},{});O.Syntax=SyntaxError,O.Type=TypeError,O.Range=RangeError;var se=ue.reduce(function(t,n){return t[n+"Error"]=O[n],t},{});var pn=Rn.reduce(function(t,n){return-1===["Syntax","Type","Range"].indexOf(n)&&(t[n+"Error"]=O[n]),t},{});function Nt(t){var n={},o=function(R,W){if(W){for(var q=arguments.length,Y=new Array(q-1);--q;)Y[q-1]=arguments[q];return n[R].subscribe.apply(null,Y),t}if("string"==typeof R)return n[R]};o.addEventType=y;for(var c=1,p=arguments.length;c<p;++c)y(arguments[c]);return o;function y(R,W,q){if("object"==typeof R)return T(R);W||(W=N),q||(q=B);var Y={subscribers:[],fire:q,subscribe:function(X){-1===Y.subscribers.indexOf(X)&&(Y.subscribers.push(X),Y.fire=W(Y.fire,X))},unsubscribe:function(X){Y.subscribers=Y.subscribers.filter(function(at){return at!==X}),Y.fire=Y.subscribers.reduce(W,q)}};return n[R]=o[R]=Y,Y}function T(R){A(R).forEach(function(W){var q=R[W];if(J(q))y(W,R[W][0],R[W][1]);else{if("asap"!==q)throw new O.InvalidArgument("Invalid event config");var Y=y(W,ft,function(){for(var at=arguments.length,xt=new Array(at);at--;)xt[at]=arguments[at];Y.subscribers.forEach(function(Jt){ie(function(){Jt.apply(null,xt)})})})}})}}pn.ModifyError=vn,pn.DexieError=Vt,pn.BulkError=rn;var Bn={},Kn=!1,Ue=ot.setImmediate?setImmediate.bind(null,Hn):ot.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Hn(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Hn,0)},zt=function(t,n){on.push([t,n]),gn&&(Ue(),gn=!1)},Ln=!0,gn=!0,Ot=[],mn=[],Un=null,Zn=ft,L={global:!0,ref:0,unhandleds:[],onunhandled:ve,finalize:function(){this.unhandleds.forEach(function(t){try{ve(t[0],t[1])}catch(n){}})}},on=[],Ut=0,_n=[];function M(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=B,this._lib=!1;var n=this._PSD=L;if(rt&&(this._stackHolder=g(),this._prev=null,this._numPrev=0,de(this,Un)),"function"!=typeof t){if(t!==Bn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Wn(this,this._value))}this._state=null,this._value=null,++n.ref,le(this,t)}function ce(t,n,o,c){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof n?n:null,this.resolve=o,this.reject=c,this.psd=L}function le(t,n){try{n(function(o){if(null===t._state){if(o===t)throw new TypeError("A promise cannot be resolved with itself.");var c=t._lib&&yn();o&&"function"==typeof o.then?le(t,function(p,y){o instanceof M?o._then(p,y):o.then(p,y)}):(t._state=!0,t._value=o,fe(t)),c&&bn()}},Wn.bind(null,t))}catch(o){Wn(t,o)}}function Wn(t,n){if(mn.push(n),null===t._state){var o=t._lib&&yn();n=Zn(n),t._state=!1,t._value=n,rt&&null!==n&&"object"==typeof n&&!n._promise&&Ht(function(){var c=kt(n,"stack");n._promise=t,Q(n,"stack",{get:function(){return Kn?c&&(c.get?c.get.apply(n):c.value):t.stack}})}),function(t){Ot.some(function(n){return n._value===t._value})||Ot.push(t)}(t),fe(t),o&&bn()}}function fe(t){var n=t._listeners;t._listeners=[];for(var o=0,c=n.length;o<c;++o)Fn(t,n[o]);var p=t._PSD;--p.ref||p.finalize(),0===Ut&&(++Ut,zt(function(){0==--Ut&&qn()},[]))}function Fn(t,n){if(null!==t._state){var o=t._state?n.onFulfilled:n.onRejected;if(null===o)return(t._state?n.resolve:n.reject)(t._value);++n.psd.ref,++Ut,zt(We,[o,t,n])}else t._listeners.push(n)}function We(t,n,o){var c=L,p=o.psd;try{p!==c&&(L=p),Un=n;var T,y=n._value;n._state?T=t(y):(mn.length&&(mn=[]),T=t(y),-1===mn.indexOf(y)&&function(t){for(var n=Ot.length;n;)if(Ot[--n]._value===t._value)return void Ot.splice(n,1)}(n)),o.resolve(T)}catch(R){o.reject(R)}finally{p!==c&&(L=c),Un=null,0==--Ut&&qn(),--p.ref||p.finalize()}}function he(t,n,o){if(n.length===o)return n;var c="";if(!1===t._state){var y,T,p=t._value;null!=p?(y=p.name||"Error",T=p.message||p,c=it(p,0)):(y=p,T=""),n.push(y+(T?": "+T:"")+c)}return rt&&((c=it(t._stackHolder,2))&&-1===n.indexOf(c)&&n.push(c),t._prev&&he(t._prev,n,o)),n}function de(t,n){var o=n?n._numPrev+1:0;o<100&&(t._prev=n,t._numPrev=o)}function Hn(){yn()&&bn()}function yn(){var t=Ln;return Ln=!1,gn=!1,t}function bn(){var t,n,o;do{for(;on.length>0;)for(t=on,on=[],o=t.length,n=0;n<o;++n){var c=t[n];c[0].apply(null,c[1])}}while(on.length>0);Ln=!0,gn=!0}function qn(){var t=Ot;Ot=[],t.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var n=_n.slice(0),o=n.length;o;)n[--o]()}function wn(t){return new M(Bn,!1,t)}function ht(t,n){var o=L;return function(){var c=yn(),p=L;try{return p!==o&&(L=o),t.apply(this,arguments)}catch(y){n&&n(y)}finally{p!==o&&(L=p),c&&bn()}}}function Zt(t,n,o,c){var p=L,y=Object.create(p);y.parent=p,y.ref=0,y.global=!1,++p.ref,y.finalize=function(){--this.parent.ref||this.parent.finalize()};var T=Vn(y,t,n,o,c);return 0===y.ref&&y.finalize(),T}function Vn(t,n,o,c,p){var y=L;try{return t!==y&&(L=t),n(o,c,p)}finally{t!==y&&(L=y)}}function ve(t,n){var o;try{o=n.onuncatched(t)}catch(c){}if(!1!==o)try{M.on.error.fire(t,n)}catch(c){}}H(M.prototype,{then:function(t,n){var o=this,c=new M(function(p,y){Fn(o,new ce(t,n,p,y))});return rt&&(!this._prev||null===this._state)&&de(c,this),c},_then:function(t,n){Fn(this,new ce(null,null,t,n))},catch:function(t){if(1===arguments.length)return this.then(null,t);var n=arguments[0],o=arguments[1];return this.then(null,"function"==typeof n?function(c){return c instanceof n?o(c):wn(c)}:function(c){return c&&c.name===n?o(c):wn(c)})},finally:function(t){return this.then(function(n){return t(),n},function(n){return t(),wn(n)})},uncaught:function(t){var n=this;return this.onuncatched=N(this.onuncatched,t),!1===this._state&&-1===Ot.indexOf(this)&&Ot.some(function(o,c,p){return o._value===n._value&&(p[c]=n)}),this},stack:{get:function(){if(this._stack)return this._stack;try{Kn=!0;var n=he(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=n),n}finally{Kn=!1}}}}),H(M,{all:function(){var t=Lt.apply(null,arguments);return new M(function(n,o){0===t.length&&n([]);var c=t.length;t.forEach(function(p,y){return M.resolve(p).then(function(T){t[y]=T,--c||n(t)},o)})})},resolve:function(t){return t&&"function"==typeof t.then?t:new M(Bn,!0,t)},reject:wn,race:function(){var t=Lt.apply(null,arguments);return new M(function(n,o){t.map(function(c){return M.resolve(c).then(n,o)})})},PSD:{get:function(){return L},set:function(t){return L=t}},newPSD:Zt,usePSD:Vn,scheduler:{get:function(){return zt},set:function(t){zt=t}},rejectionMapper:{get:function(){return Zn},set:function(t){Zn=t}},follow:function(t){return new M(function(n,o){return Zt(function(c,p){var y=L;y.unhandleds=[],y.onunhandled=p,y.finalize=et(function(){var T=this;!function(t){_n.push(function n(){t(),_n.splice(_n.indexOf(n),1)}),++Ut,zt(function(){0==--Ut&&qn()},[])}(function(){0===T.unhandleds.length?c():p(T.unhandleds[0])})},y.finalize),t()},n,o)})},on:Nt(null,{error:[N,function(t){console.warn("Unhandled rejection: "+(t.stack||t))}]})}),dn(function(){zt=function(t,n){setTimeout(function(){t.apply(null,n)},0)}});var an=String.fromCharCode(65535),Nn=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return an}}(),xn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ge="String expected.",un=[],me="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Ne=me,ze=me,_e=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};function pt(t,n){var Jn,Qn,jn,o=pt.dependencies,c=j({addons:pt.addons,autoOpen:!0,indexedDB:o.indexedDB,IDBKeyRange:o.IDBKeyRange},n),p=c.addons,y=c.autoOpen,T=c.indexedDB,R=c.IDBKeyRange,W=this._dbSchema={},q=[],Y={},X=null,at=null,xt=!1,Jt=!1,Mt="readonly",ut="readwrite",C=this,fn=new M(function(e){Jn=e}),Xn=new M(function(e,r){Qn=r}),Qt=!0,xe=!!we(T);function Xt(e){this._cfg={version:e,storesSource:{},preUpgradeDbSchema:{},postUpgradeDbSchema:{},tables:{},contentUpgrade:null}}function Ge(e,r,s){var h=Dt(W,function(a){return null!==a}),f=new At(ut,A(h),h);f.create(r),f._completion.catch(s);var v=f._reject.bind(f);Zt(function(){if(L.trans=f,0===e){for(var a in W){var i=W[a];$n(r,a,i.primKey,i.indexes)}M.follow(function(){return C.on.populate.fire(f)}).catch(v)}else(function(e,r,s){var h=[],f=q.find(function(d){return d._cfg.version===e});if(!f)throw new O.Upgrade("Dexie specification of currently installed DB version is missing");var v=f._schema();Cn(v,s);var a=!1;function u(d){var _={};r.storeNames=A(d),An([_],A(d),ut,d),r._tables=_}function l(){return h.length?M.resolve(h.shift()(r.idbtrans)).then(l):M.resolve()}return q.filter(function(d){return d._cfg.version>e}).forEach(function(d){var _;h.push(function(){var w=d._schema();if(Cn(w,s),Cn(d._upgradeSchema(),s),_=Xt.diff(v,w),v=w,_.add.forEach(function(S){$n(s,S.name,S.primKey,S.indexes)}),_.change.forEach(function(S){if(S.recreate)throw new O.Upgrade("No support yet for changing primary key");var m=s.objectStore(S.name);S.add.forEach(function(D){te(m,D)}),S.change.forEach(function(D){m.deleteIndex(D.name),te(m,D)}),S.del.forEach(function(D){m.deleteIndex(D)})}),d._cfg.contentUpgrade)return a=!0,M.follow(function(){u(d._upgradeSchema()),d._cfg.contentUpgrade(r)})}),h.push(function(w){(!a||!Ne)&&_.del.forEach(function(S){!function(e,r){e.db.deleteObjectStore(r)}(w,S)})})}),l().then(function(){!function(e,r){for(var s in e){var h=e[s];r.db.objectStoreNames.contains(s)||$n(r,s,h.primKey,h.indexes)}}(v,s)})})(e,f,r).catch(v)})}function $n(e,r,s,h){var f=e.db.createObjectStore(r,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return h.forEach(function(v){te(f,v)}),f}function te(e,r){e.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function St(e){return C.on.error.fire(e)}function ne(e,r,s){if(Jt||L.letThrough){var h=new At(e,r,W);return h._promise(e,function(f,v){Zt(function(){L.trans=h,s(f,v,h)})}).then(function(f){return h._completion.then(function(){return f})})}if(!xt){if(!y)return Et(new O.DatabaseClosed,St);C.open().catch(B)}return fn.then(function(){return ne(e,r,s)})}function Wt(e,r,s){this.name=e,this.schema=r,this.hook=Y[e]?Y[e].hook:Nt(null,{creating:[x,B],reading:[dt,ft],updating:[lt,B],deleting:[vt,B]}),this._collClass=s||$t}function En(e,r,s){Wt.call(this,e,r,s||ee)}function jt(e,r,s){return(s?Tn:_t)(function(h){e.push(h),r&&r()})}function De(e,r,s,h,f){return new M(function(v,a){var i=s.length,u=i-1;if(0===i)return v();if(h){var _,w=Tn(a),S=Yt(null);Ht(function(){for(var m=0;m<i;++m){var D=s[m];f.call(_={onsuccess:null,onerror:null},D[0],D[1],r);var Z=e.delete(D[0]);Z._hookCtx=_,Z.onerror=w,Z.onsuccess=m===u?Yt(v):S}},function(m){throw _.onerror&&_.onerror(m),m})}else for(var l=0;l<i;++l){var d=e.delete(s[l]);d.onerror=ht(_t(a)),l===u&&(d.onsuccess=ht(function(){return v()}))}}).uncaught(St)}function At(e,r,s,h){var f=this;this.db=C,this.mode=e,this.storeNames=r,this.idbtrans=null,this.on=Nt(this,"complete","error","abort"),this.parent=h||null,this.active=!0,this._table_cache=null,this.__tables=null,this._reculock=0,this._blockedFuncs=[],this._psd=null,this._dbschema=s,this._resolve=null,this._reject=null,this._completion=new M(function(v,a){f._resolve=v,f._reject=a}).uncaught(St),this._completion.then(function(){f.on.complete.fire()},function(v){return f.on.error.fire(v),f.parent?f.parent._reject(v):f.active&&f.idbtrans&&f.idbtrans.abort(),f.active=!1,Et(v)})}function Ft(e,r,s){this._ctx={table:e,index:":id"===r?null:r,collClass:e._collClass,or:s}}function $t(e,r){var s=null,h=null;if(r)try{s=r()}catch(a){h=a}var f=e._ctx,v=f.table;this._ctx={table:v,index:f.index,isPrimKey:!f.index||v.schema.primKey.keyPath&&f.index===v.schema.primKey.name,range:s,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:h,or:f.or,valueMapper:v.hook.reading.fire}}function hn(e,r){return!(e.filter||e.algorithm||e.or)&&(r?e.justLimit:!e.replayFilter)}function ee(){$t.apply(this,arguments)}function An(e,r,s,h){r.forEach(function(f){var v=C._tableFactory(s,h[f]);e.forEach(function(a){f in a||(a[f]=v)})})}function Se(e,r,s,h,f,v){var i=ht(v?function(u,l,d){return s(v(u),l,d)}:s,f);e.onerror||(e.onerror=_t(f)),e.onsuccess=function(t,n){return function(){try{t.apply(this,arguments)}catch(o){n(o)}}}(r?function(){var l=e.result;if(l){var d=function(){l.continue()};r(l,function(_){d=_},h,f)&&i(l.value,l,function(_){d=_}),d()}else h()}:function(){var l=e.result;if(l){var d=function(){l.continue()};i(l.value,l,function(_){d=_}),d()}else h()},f)}function $e(e){var r=[];return e.split(",").forEach(function(s){var h=(s=s.trim()).replace(/([&*]|\+\+)/g,""),f=/^\[/.test(h)?h.match(/^\[(.*)\]$/)[1].split("+"):h;r.push(new Gt(h,f||null,/\&/.test(s),/\*/.test(s),/\+\+/.test(s),J(f),/\./.test(s)))}),r}function Rt(e,r){return T.cmp(e,r)}function tr(e,r){return Rt(e,r)<0?e:r}function nr(e,r){return Rt(e,r)>0?e:r}function Tt(e,r){return T.cmp(e,r)}function On(e,r){return T.cmp(r,e)}function er(e,r){return e<r?-1:e===r?0:1}function rr(e,r){return e>r?-1:e===r?0:1}function tn(e,r){return e?r?function(){return e.apply(this,arguments)&&r.apply(this,arguments)}:e:r}function Cn(e,r){for(var s=r.db.objectStoreNames,h=0;h<s.length;++h){var f=s[h],v=r.objectStore(f);jn="getAll"in v;for(var a=0;a<v.indexNames.length;++a){var i=v.indexNames[a],u=v.index(i).keyPath,l="string"==typeof u?u:"["+In(u).join("+")+"]";if(e[f]){var d=e[f].idxByName[l];d&&(d.name=i)}}}}function Te(e){C.on("blocked").fire(e),un.filter(function(r){return r.name===C.name&&r!==C&&!r._vcFired}).map(function(r){return r.on("versionchange").fire(e)})}this.version=function(e){if(X||xt)throw new O.Schema("Cannot add version when database is open");var r=q.find(function(s){return s._cfg.version===e});return r||(r=new Xt(e),q.push(r),q.sort(Xt.sort),r._init(),r)},j(Xt.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?j(this._cfg.storesSource,e):e;var r={},s={};for(var h of q){if(h===this){var f=Dt(h._cfg.storesSource,function(a){return null!==a});j(r,s),j(r,f),j(s,h._cfg.storesSource);break}j(s,h._cfg.storesSource)}this._cfg.preUpgradeDbSchema=this._parseStoresSpec(r),this._cfg.postUpgradeDbSchema=this._parseStoresSpec(s);var v=Dt(this._cfg.postUpgradeDbSchema,function(a){return null!==a});return An([this._cfg.tables],A(v),ut,v),this._update(),this},upgrade:function(e){var r=this;return Dn(function(){var s=r._cfg.preUpgradeDbSchema;e(new At(ut,A(s),s))}),this._cfg.contentUpgrade=e,this},_init:function(){this.stores({})},_parseStoresSpec:function(e){var r={};for(var s in e){var h=e[s];if(null!==h){var f={},v=$e(h),a=v.shift();if(a.multi)throw new O.Schema("Primary key cannot be multi-valued");a.keyPath&&mt(f,a.keyPath,a.auto?0:a.keyPath),v.forEach(function(i){if(i.auto)throw new O.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new O.Schema("Index must have a name and cannot be an empty string");mt(f,i.keyPath,i.compound?i.keyPath.map(function(){return""}):"")}),r[s]=new ln(s,a,v,f)}}return r},_schema:function(){return this._cfg.postUpgradeDbSchema},_upgradeSchema:function(){return this._cfg.preUpgradeDbSchema},_update:function(){var e=this;if(C.verno=Math.max(C.verno,this._cfg.version),C.verno===this._cfg.version){!function(e){e.forEach(function(r){for(var s in r)r[s]instanceof Wt&&delete r[s]})}([Y,C,At.prototype]);var r=Dt(this._schema(),function(h){return null!==h});An([Y,C,At.prototype],A(r),ut,r),W=C._dbSchema=r}else q.find(function(h){return h._cfg.version>e._cfg.version}).stores({})}}),j(Xt,{sort:function(e,r){return e._cfg.version-r._cfg.version},diff:function(e,r){var s={del:[],add:[],change:[]};for(var h in e)r[h]||s.del.push(h);for(var f in r){var v=e[f],a=r[f];if(a)if(v){var i=ln.diff(v,a);i&&s.change.push(i)}else s.add.push(a)}return s},filterSchema:function(e){return Dt(e,function(r){return null!==r})}}),this._allTables=Y,this._tableFactory=function(r,s){return r===Mt?new Wt(s.name,s,$t):new En(s.name,s)},this._whenReady=function(e){return new M(wt||Jt||L.letThrough?e:function(r,s){if(!xt){if(!y)return void s(new O.DatabaseClosed);C.open().catch(B)}fn.then(function(){e(r,s)})}).uncaught(St)},this.verno=0,this.open=function(){if(xt||X)return fn.then(function(){return at?Et(at,St):C});rt&&(Xn._stackHolder=g()),xt=!0,at=null,Jt=!1;var e=Jn,r=null;return M.race([Xn,new M(function(s,h){if(dn(function(){return s()}),q.length>0&&(Qt=!1),!T)throw new O.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var f=Qt?T.open(t):T.open(t,Math.round(10*C.verno));if(!f)throw new O.MissingAPI("IndexedDB API not available");f.onerror=ht(_t(h)),f.onblocked=ht(Te),f.onupgradeneeded=ht(function(v){if(r=f.transaction,Qt&&!C._allowEmptyDB){f.onerror=cn,r.abort(),f.result.close();var a=T.deleteDatabase(t);a.onsuccess=a.onerror=ht(function(){h(new O.NoSuchDatabase("Database "+t+" doesnt exist"))})}else r.onerror=ht(_t(h)),Ge((v.oldVersion>Math.pow(2,62)?0:v.oldVersion)/10,r,h)},h),f.onsuccess=ht(function(){if(r=null,X=f.result,un.push(C),Qt)!function(){C.verno=X.version/10,W=C._dbSchema={};var e=In(X.objectStoreNames,0);if(0!==e.length){var r=X.transaction(Gn(e),"readonly");e.forEach(function(s){for(var h=r.objectStore(s),f=h.keyPath,v=f&&"string"==typeof f&&-1!==f.indexOf("."),a=new Gt(f,f||"",!1,!1,!!h.autoIncrement,f&&"string"!=typeof f,v),i=[],u=0;u<h.indexNames.length;++u){var l=h.index(h.indexNames[u]);v=(f=l.keyPath)&&"string"==typeof f&&-1!==f.indexOf(".");var d=new Gt(l.name,f,!!l.unique,!!l.multiEntry,!1,f&&"string"!=typeof f,v);i.push(d)}W[s]=new ln(s,a,i,{})}),An([Y,C,At.prototype],A(W),ut,W)}}();else if(X.objectStoreNames.length>0)try{Cn(W,X.transaction(Gn(X.objectStoreNames),Mt))}catch(v){}X.onversionchange=ht(function(v){C._vcFired=!0,C.on("versionchange").fire(v)}),xe||zn(function(v){if(-1===v.indexOf(t))return v.push(t)}),s()},h)})]).then(function(){return pt.vip(C.on.ready.fire)}).then(function(){return xt=!1,C}).catch(function(s){try{r&&r.abort()}catch(h){}return xt=!1,C.close(),Et(at=s,St)}).finally(function(){Jt=!0,e()})},this.close=function(){var e=un.indexOf(C);if(e>=0&&un.splice(e,1),X){try{X.close()}catch(r){}X=null}y=!1,at=new O.DatabaseClosed,xt&&Qn(at),fn=new M(function(r){Jn=r}),Xn=new M(function(r,s){Qn=s})},this.delete=function(){var e=arguments.length>0;return new M(function(r,s){if(e)throw new O.InvalidArgument("Arguments not allowed in db.delete()");function h(){C.close();var f=T.deleteDatabase(t);f.onsuccess=ht(function(){xe||zn(function(v){var a=v.indexOf(t);if(a>=0)return v.splice(a,1)}),r()}),f.onerror=ht(_t(s)),f.onblocked=Te}xt?fn.then(h):h()}).uncaught(St)},this.backendDB=function(){return X},this.isOpen=function(){return null!==X},this.hasFailed=function(){return null!==at},this.dynamicallyOpened=function(){return Qt},this.name=t,Q(this,"tables",{get:function(){return A(Y).map(function(e){return Y[e]})}}),this.on=Nt(this,"error","populate","blocked","versionchange",{ready:[yt,B]}),this.on.ready.subscribe=re(this.on.ready.subscribe,function(e){return function(r,s){pt.vip(function(){e(r),s||e(function h(){C.on.ready.unsubscribe(r),C.on.ready.unsubscribe(h)})})}}),Dn(function(){C.on("populate").fire(new At(ut,dbStoreNames,W)),C.on("error").fire(new Error)}),this.transaction=function(e,r,s){var h=arguments.length;if(h<2)throw new O.InvalidArgument("Too few arguments");for(var f=new Array(h-1);--h;)f[h-1]=arguments[h];s=f.pop();var v=Ce(f),a=L.trans;(!a||a.db!==C||-1!==e.indexOf("!"))&&(a=null);var i=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{var u=v.map(function(d){var _=d instanceof Wt?d.name:d;if("string"!=typeof _)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return _});if("r"==e||e==Mt)e=Mt;else{if("rw"!=e&&e!=ut)throw new O.InvalidArgument("Invalid transaction mode: "+e);e=ut}if(a){if(a.mode===Mt&&e===ut){if(!i)throw new O.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a=null}a&&u.forEach(function(d){if(!P(a.tables,d)){if(!i)throw new O.SubTransaction("Table "+d+" not included in parent transaction.");a=null}})}}catch(d){return a?a._promise(null,function(_,w){w(d)}):Et(d,St)}return a?a._promise(e,l,"lock"):C._whenReady(l);function l(d){var _=L;d(M.resolve().then(function(){return Zt(function(){L.transless=L.transless||_;var w=new At(e,u,W,a);L.trans=w,a?w.idbtrans=a.idbtrans:w.create();var m,S=u.map(function(D){return w.tables[D]});return S.push(w),M.follow(function(){if(m=s.apply(w,S))if("function"==typeof m.next&&"function"==typeof m.throw)m=Yn(m);else if("function"==typeof m.then&&!P(m,"_PSD"))throw new O.IncompatiblePromise("Incompatible Promise returned from transaction scope (read more at http://tinyurl.com/znyqjqc). Transaction scope: "+s.toString())}).uncaught(St).then(function(){return a&&w._resolve(),w._completion}).then(function(){return m}).catch(function(D){return w._reject(D),Et(D)})})}))}},this.table=function(e){if(wt&&Qt)return new En(e);if(!P(Y,e))throw new O.InvalidTable("Table "+e+" does not exist");return Y[e]},H(Wt.prototype,{_trans:function(r,s,h){var f=L.trans;return f&&f.db===C?f._promise(r,s,h):ne(r,[this.name],s)},_idbstore:function(r,s,h){if(wt)return new M(s);var f=L.trans,v=this.name;function a(i,u,l){s(i,u,l.idbtrans.objectStore(v),l)}return f&&f.db===C?f._promise(r,a,h):ne(r,[this.name],a)},get:function(e,r){var s=this;return this._idbstore(Mt,function(h,f,v){wt&&h(s.schema.instanceTemplate);var a=v.get(e);a.onerror=_t(f),a.onsuccess=function(){h(s.hook.reading.fire(a.result))}}).then(r)},where:function(e){return new Ft(this,e)},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new this._collClass(new Ft(this,e))},toCollection:function(){return new this._collClass(new Ft(this))},mapToClass:function(e,r){this.schema.mappedClass=e;var s=Object.create(e.prototype);r&&Sn(s,r),this.schema.instanceTemplate=s;var h=function(f){if(!f)return f;var v=Object.create(e.prototype);for(var a in f)P(f,a)&&(v[a]=f[a]);return v};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=h,this.hook("reading",h),e},defineClass:function(e){return this.mapToClass(pt.defineClass(e),e)}}),$(En).from(Wt).extend({bulkDelete:function(e){return this.hook.deleting.fire===B?this._idbstore(ut,function(r,s,h,f){r(De(h,f,e,!1,B))}):this.where(":id").anyOf(e).delete().then(function(){})},bulkPut:function(e,r){var s=this;return this._idbstore(ut,function(h,f,v){if(!v.keyPath&&!s.schema.primKey.auto&&!r)throw new O.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(v.keyPath&&r)throw new O.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return h();var i,l,a=function(U){0===u.length?h(U):f(new rn(s.name+".bulkPut(): "+u.length+" of "+d+" operations failed",u))},u=[],d=e.length,_=s;if(s.hook.creating.fire===B&&s.hook.updating.fire===B){l=jt(u);for(var w=0,S=e.length;w<S;++w)(i=r?v.put(e[w],r[w]):v.put(e[w])).onerror=l;i.onerror=jt(u,a),i.onsuccess=sn(a)}else{var m=r||v.keyPath&&e.map(function(U){return bt(U,v.keyPath)}),D=m&&Pn(m,function(U,F){return null!=U&&[U,e[F]]});(m?_.where(":id").anyOf(m.filter(function(U){return null!=U})).modify(function(){this.value=D[this.primKey],D[this.primKey]=null}).catch(vn,function(U){u=U.failures}).then(function(){for(var U=[],F=r&&[],st=m.length-1;st>=0;--st){var tt=m[st];(null==tt||D[tt])&&(U.push(e[st]),r&&F.push(tt),null!=tt&&(D[tt]=null))}return U.reverse(),r&&F.reverse(),_.bulkAdd(U,F)}).then(function(U){var F=m[m.length-1];return null!=F?F:U}):_.bulkAdd(e)).then(a).catch(rn,function(U){u=u.concat(U.failures),a()}).catch(f)}},"locked")},bulkAdd:function(e,r){var s=this,h=this.hook.creating.fire;return this._idbstore(ut,function(f,v,a,i){if(!a.keyPath&&!s.schema.primKey.auto&&!r)throw new O.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&r)throw new O.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(r&&r.length!==e.length)throw new O.InvalidArgument("Arguments objects and keys must have the same length");if(0===e.length)return f();function u(F){0===d.length?f(F):v(new rn(s.name+".bulkAdd(): "+d.length+" of "+S+" operations failed",d))}var l,_,w,d=[],S=e.length;if(h!==B){var D,m=a.keyPath;_=jt(d,null,!0),w=Yt(null),Ht(function(){for(var F=0,st=e.length;F<st;++F){D={onerror:null,onsuccess:null};var tt=r&&r[F],E=e[F],nt=r?tt:m?bt(E,m):void 0,k=h.call(D,nt,E,i);null==nt&&null!=k&&(m?mt(E=Kt(E),m,k):tt=k),(l=null!=tt?a.add(E,tt):a.add(E))._hookCtx=D,F<st-1&&(l.onerror=_,D.onsuccess&&(l.onsuccess=w))}},function(F){throw D.onerror&&D.onerror(F),F}),l.onerror=jt(d,u,!0),l.onsuccess=Yt(u)}else{_=jt(d);for(var Z=0,U=e.length;Z<U;++Z)(l=r?a.add(e[Z],r[Z]):a.add(e[Z])).onerror=_;l.onerror=jt(d,u),l.onsuccess=sn(u)}})},add:function(e,r){var s=this.hook.creating.fire;return this._idbstore(ut,function(h,f,v,a){var i={onsuccess:null,onerror:null};if(s!==B){var u=null!=r?r:v.keyPath?bt(e,v.keyPath):void 0,l=s.call(i,u,e,a);null==u&&null!=l&&(v.keyPath?mt(e,v.keyPath,l):r=l)}try{var d=null!=r?v.add(e,r):v.add(e);d._hookCtx=i,d.onerror=Tn(f),d.onsuccess=Yt(function(_){var w=v.keyPath;w&&mt(e,w,_),h(_)})}catch(_){throw i.onerror&&i.onerror(_),_}})},put:function(e,r){var s=this;return this.hook.creating.fire!==B||this.hook.updating.fire!==B?this._trans(ut,function(v,a,i){var u=void 0!==r?r:s.schema.primKey.keyPath&&bt(e,s.schema.primKey.keyPath);null==u?i.tables[s.name].add(e).then(v,a):(i._lock(),e=Kt(e),i.tables[s.name].where(":id").equals(u).modify(function(){this.value=e}).then(function(l){return 0===l?i.tables[s.name].add(e,r):u}).finally(function(){i._unlock()}).then(v,a))}):this._idbstore(ut,function(v,a,i){var u=void 0!==r?i.put(e,r):i.put(e);u.onerror=_t(a),u.onsuccess=function(l){var d=i.keyPath;d&&mt(e,d,l.target.result),v(u.result)}})},delete:function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e).delete():this._idbstore(ut,function(r,s,h){var f=h.delete(e);f.onerror=_t(s),f.onsuccess=function(){r(f.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(ut,function(e,r,s){var h=s.clear();h.onerror=_t(r),h.onsuccess=function(){e(h.result)}})},update:function(e,r){if("object"!=typeof r||J(r))throw new O.InvalidArgument("Modifications must be an object.");if("object"!=typeof e||J(e))return this.where(":id").equals(e).modify(r);A(r).forEach(function(h){mt(e,h,r[h])});var s=bt(e,this.schema.primKey.keyPath);return void 0===s?Et(new O.InvalidArgument("Given object does not contain its primary key"),St):this.where(":id").equals(s).modify(r)}}),H(At.prototype,{_lock:function(){return en(!L.global),++this._reculock,1===this._reculock&&!L.global&&(L.lockOwnerFor=this),this},_unlock:function(){if(en(!L.global),0==--this._reculock)for(L.global||(L.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{e()}catch(r){}}return this},_locked:function(){return this._reculock&&L.lockOwnerFor!==this},create:function(e){var r=this;if(en(!this.idbtrans),!e&&!X)switch(at&&at.name){case"DatabaseClosedError":throw new O.DatabaseClosed(at);case"MissingAPIError":throw new O.MissingAPI(at.message,at);default:throw new O.OpenFailed(at)}if(!this.active)throw new O.TransactionInactive;return en(null===this._completion._state),(e=this.idbtrans=e||X.transaction(Gn(this.storeNames),this.mode)).onerror=ht(function(s){cn(s),r._reject(e.error)}),e.onabort=ht(function(s){cn(s),r.active&&r._reject(new O.Abort),r.active=!1,r.on("abort").fire(s)}),e.oncomplete=ht(function(){r.active=!1,r._resolve()}),this},_promise:function(e,r,s){var h=this;return Zt(function(){var f;return h._locked()?f=new M(function(v,a){h._blockedFuncs.push(function(){h._promise(e,r,s).then(v,a)})}):(f=h.active?new M(function(v,a){if(e===ut&&h.mode!==ut)throw new O.ReadOnly("Transaction is readonly");!h.idbtrans&&e&&h.create(),s&&h._lock(),r(v,a,h)}):Et(new O.TransactionInactive),h.active&&s&&f.finally(function(){h._unlock()})),f._lib=!0,f.uncaught(St)})},_tables:{get:function(){return this.__tables||Y},set:function(e){this.__tables=e,this._table_cache=null}},abort:function(){this.active&&this._reject(new O.Abort),this.active=!1},tables:{get:function(){var e=this;return this._table_cache?this._table_cache:this._table_cache=Pn(this.storeNames,function(r){return[r,e._tables[r]]})}},complete:function(e){return this.on("complete",e)},error:function(e){return this.on("error",e)},table:function(e){if(-1===this.storeNames.indexOf(e))throw new O.InvalidTable("Table "+e+" not in transaction");return this._tables[e]}}),H(Ft.prototype,function(){function e(a,i,u){var l=a instanceof Ft?new a._ctx.collClass(a):a;return l._ctx.error=u?new u(i):new TypeError(i),l}function r(a){return new a._ctx.collClass(a,function(){return R.only("")}).limit(0)}function f(a,i,u,l,d,_){for(var w=Math.min(a.length,l.length),S=-1,m=0;m<w;++m){var D=i[m];if(D!==l[m])return d(a[m],u[m])<0?a.substr(0,m)+u[m]+u.substr(m+1):d(a[m],l[m])<0?a.substr(0,m)+l[m]+u.substr(m+1):S>=0?a.substr(0,S)+i[S]+u.substr(S+1):null;d(a[m],D)<0&&(S=m)}return w<l.length&&"next"===_?a+u.substr(a.length):w<a.length&&"prev"===_?a.substr(0,u.length):S<0?null:a.substr(0,S)+l[S]+u.substr(S+1)}function v(a,i,u,l){var d,_,w,S,m,D,Z,U=u.length;if(!u.every(function(E){return"string"==typeof E}))return e(a,ge);function F(E){d=function(a){return"next"===a?function(i){return i.toUpperCase()}:function(i){return i.toLowerCase()}}(E),_=function(a){return"next"===a?function(i){return i.toLowerCase()}:function(i){return i.toUpperCase()}}(E),w="next"===E?er:rr;var nt=u.map(function(k){return{lower:_(k),upper:d(k)}}).sort(function(k,G){return w(k.lower,G.lower)});S=nt.map(function(k){return k.upper}),m=nt.map(function(k){return k.lower}),D=E,Z="next"===E?"":l}F("next");var st=new a._ctx.collClass(a,function(){return R.bound(S[0],m[U-1]+l)});st._ondirectionchange=function(E){F(E)};var tt=0;return st._addAlgorithm(function(E,nt,k){var G=E.key;if("string"!=typeof G)return!1;var z=_(G);if(i(z,m,tt))return!0;for(var ct=null,gt=tt;gt<U;++gt){var Ct=f(G,z,S[gt],m[gt],w,D);null===Ct&&null===ct?tt=gt+1:(null===ct||w(ct,Ct)>0)&&(ct=Ct)}return nt(null!==ct?function(){E.continue(ct+Z)}:k),!1}),st}return{between:function(a,i,u,l){u=!1!==u,l=!0===l;try{return Rt(a,i)>0||0===Rt(a,i)&&(u||l)&&(!u||!l)?r(this):new this._ctx.collClass(this,function(){return R.bound(a,i,!u,!l)})}catch(d){return e(this,xn)}},equals:function(a){return new this._ctx.collClass(this,function(){return R.only(a)})},above:function(a){return new this._ctx.collClass(this,function(){return R.lowerBound(a,!0)})},aboveOrEqual:function(a){return new this._ctx.collClass(this,function(){return R.lowerBound(a)})},below:function(a){return new this._ctx.collClass(this,function(){return R.upperBound(a,!0)})},belowOrEqual:function(a){return new this._ctx.collClass(this,function(){return R.upperBound(a)})},startsWith:function(a){return"string"!=typeof a?e(this,ge):this.between(a,a+an,!0,!0)},startsWithIgnoreCase:function(a){return""===a?this.startsWith(a):v(this,function(i,u){return 0===i.indexOf(u[0])},[a],an)},equalsIgnoreCase:function(a){return v(this,function(i,u){return i===u[0]},[a],"")},anyOfIgnoreCase:function(){var a=Lt.apply(qt,arguments);return 0===a.length?r(this):v(this,function(i,u){return-1!==u.indexOf(i)},a,"")},startsWithAnyOfIgnoreCase:function(){var a=Lt.apply(qt,arguments);return 0===a.length?r(this):v(this,function(i,u){return u.some(function(l){return 0===i.indexOf(l)})},a,an)},anyOf:function(){var a=Lt.apply(qt,arguments),i=Tt;try{a.sort(i)}catch(d){return e(this,xn)}if(0===a.length)return r(this);var u=new this._ctx.collClass(this,function(){return R.bound(a[0],a[a.length-1])});u._ondirectionchange=function(d){a.sort(i="next"===d?Tt:On)};var l=0;return u._addAlgorithm(function(d,_,w){for(var S=d.key;i(S,a[l])>0;)if(++l===a.length)return _(w),!1;return 0===i(S,a[l])||(_(function(){d.continue(a[l])}),!1)}),u},notEqual:function(a){return this.inAnyRange([[-1/0,a],[a,Nn]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var a=Lt.apply(qt,arguments);if(0===a.length)return new this._ctx.collClass(this);try{a.sort(Tt)}catch(u){return e(this,xn)}var i=a.reduce(function(u,l){return u?u.concat([[u[u.length-1][1],l]]):[[-1/0,l]]},null);return i.push([a[a.length-1],Nn]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(a,i){var u=this._ctx;if(0===a.length)return r(this);if(!a.every(function(E){return void 0!==E[0]&&void 0!==E[1]&&Tt(E[0],E[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",O.InvalidArgument);var l=!i||!1!==i.includeLowers,d=i&&!0===i.includeUppers;var m,w=Tt;function S(E,nt){return w(E[0],nt[0])}try{(m=a.reduce(function(E,nt){for(var k=0,G=E.length;k<G;++k){var z=E[k];if(Rt(nt[0],z[1])<0&&Rt(nt[1],z[0])>0){z[0]=tr(z[0],nt[0]),z[1]=nr(z[1],nt[1]);break}}return k===G&&E.push(nt),E},[])).sort(S)}catch(E){return e(this,xn)}var D=0,Z=d?function(E){return Tt(E,m[D][1])>0}:function(E){return Tt(E,m[D][1])>=0},U=l?function(E){return On(E,m[D][0])>0}:function(E){return On(E,m[D][0])>=0};var st=Z,tt=new u.collClass(this,function(){return R.bound(m[0][0],m[m.length-1][1],!l,!d)});return tt._ondirectionchange=function(E){"next"===E?(st=Z,w=Tt):(st=U,w=On),m.sort(S)},tt._addAlgorithm(function(E,nt,k){for(var G=E.key;st(G);)if(++D===m.length)return nt(k),!1;return!!function(E){return!Z(E)&&!U(E)}(G)||(0===Rt(G,m[D][1])||0===Rt(G,m[D][0])||nt(function(){E.continue(w===Tt?m[D][0]:m[D][1])}),!1)}),tt},startsWithAnyOf:function(){var a=Lt.apply(qt,arguments);return a.every(function(i){return"string"==typeof i})?0===a.length?r(this):this.inAnyRange(a.map(function(i){return[i,i+an]})):e(this,"startsWithAnyOf() only works with strings")}}}),H($t.prototype,function(){function e(i,u){i.filter=tn(i.filter,u)}function r(i,u,l){var d=i.replayFilter;i.replayFilter=d?function(){return tn(d(),u())}:u,i.justLimit=l&&!d}function h(i,u){if(i.isPrimKey)return u;var l=i.table.schema.idxByName[i.index];if(!l)throw new O.Schema("KeyPath "+i.index+" on object store "+u.name+" is not indexed");return u.index(l.name)}function f(i,u){var l=h(i,u);return i.keysOnly&&"openKeyCursor"in l?l.openKeyCursor(i.range||null,i.dir+i.unique):l.openCursor(i.range||null,i.dir+i.unique)}function v(i,u,l,d,_){var w=i.replayFilter?tn(i.filter,i.replayFilter()):i.filter;i.or?function(){var S={},m=0;function D(){2==++m&&l()}function Z(U,F,st){if(!w||w(F,st,D,d)){var tt=F.primaryKey.toString();P(S,tt)||(S[tt]=!0,u(U,F,st))}}i.or._iterate(Z,D,d,_),Se(f(i,_),i.algorithm,Z,D,d,!i.keysOnly&&i.valueMapper)}():Se(f(i,_),tn(i.algorithm,w),u,l,d,!i.keysOnly&&i.valueMapper)}function a(i){return i.table.schema.instanceTemplate}return{_read:function(i,u){var l=this._ctx;return l.error?l.table._trans(null,function(_,w){w(l.error)}):l.table._idbstore(Mt,i).then(u)},_write:function(i){var u=this._ctx;return u.error?u.table._trans(null,function(d,_){_(u.error)}):u.table._idbstore(ut,i,"locked")},_addAlgorithm:function(i){var u=this._ctx;u.algorithm=tn(u.algorithm,i)},_iterate:function(i,u,l,d){return v(this._ctx,i,u,l,d)},clone:function(i){var u=Object.create(this.constructor.prototype),l=Object.create(this._ctx);return i&&j(l,i),u._ctx=l,u},raw:function(){return this._ctx.valueMapper=null,this},each:function(i){var u=this._ctx;if(wt){var l=a(u),d=u.table.schema.primKey.keyPath,_=bt(l,u.index?u.table.schema.idxByName[u.index].keyPath:d),w=bt(l,d);i(l,{key:_,primaryKey:w})}return this._read(function(S,m,D){v(u,i,S,m,D)})},count:function(i){if(wt)return M.resolve(0).then(i);var u=this._ctx;if(hn(u,!0))return this._read(function(d,_,w){var S=h(u,w),m=u.range?S.count(u.range):S.count();m.onerror=_t(_),m.onsuccess=function(D){d(Math.min(D.target.result,u.limit))}},i);var l=0;return this._read(function(d,_,w){v(u,function(){return++l,!1},function(){d(l)},_,w)},i)},sortBy:function(i,u){var l=i.split(".").reverse(),d=l[0],_=l.length-1;function w(D,Z){return Z?w(D[l[Z]],Z-1):D[d]}var S="next"===this._ctx.dir?1:-1;function m(D,Z){var U=w(D,_),F=w(Z,_);return U<F?-S:U>F?S:0}return this.toArray(function(D){return D.sort(m)}).then(u)},toArray:function(i){var u=this._ctx;return this._read(function(l,d,_){if(wt&&l([a(u)]),jn&&"next"===u.dir&&hn(u,!0)&&u.limit>0){var w=u.table.hook.reading.fire,S=h(u,_),m=u.limit<1/0?S.getAll(u.range,u.limit):S.getAll(u.range);m.onerror=_t(d),m.onsuccess=w===ft?sn(l):ht(sn(function(Z){l(Z.map(w))}))}else{var D=[];v(u,function(Z){D.push(Z)},function(){l(D)},d,_)}},i)},offset:function(i){var u=this._ctx;return i<=0||(u.offset+=i,hn(u)?r(u,function(){var l=i;return function(d,_){return 0===l||(1===l?(--l,!1):(_(function(){d.advance(l),l=0}),!1))}}):r(u,function(){var l=i;return function(){return--l<0}})),this},limit:function(i){return this._ctx.limit=Math.min(this._ctx.limit,i),r(this._ctx,function(){var u=i;return function(l,d,_){return--u<=0&&d(_),u>=0}},!0),this},until:function(i,u){return wt&&i(a(this._ctx)),e(this._ctx,function(d,_,w){return!i(d.value)||(_(w),u)}),this},first:function(i){return this.limit(1).toArray(function(u){return u[0]}).then(i)},last:function(i){return this.reverse().first(i)},filter:function(i){return wt&&i(a(this._ctx)),e(this._ctx,function(u){return i(u.value)}),function(i,u){i.isMatch=tn(i.isMatch,u)}(this._ctx,i),this},and:function(i){return this.filter(i)},or:function(i){return new Ft(this._ctx.table,i,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(l,d){i(d.key,d)})},eachUniqueKey:function(i){return this._ctx.unique="unique",this.eachKey(i)},eachPrimaryKey:function(i){var u=this._ctx;return u.keysOnly=!u.isMatch,this.each(function(l,d){i(d.primaryKey,d)})},keys:function(i){var u=this._ctx;u.keysOnly=!u.isMatch;var l=[];return this.each(function(d,_){l.push(_.key)}).then(function(){return l}).then(i)},primaryKeys:function(i){var u=this._ctx;if(jn&&"next"===u.dir&&hn(u,!0)&&u.limit>0)return this._read(function(d,_,w){var S=h(u,w),m=u.limit<1/0?S.getAllKeys(u.range,u.limit):S.getAllKeys(u.range);m.onerror=_t(_),m.onsuccess=sn(d)}).then(i);u.keysOnly=!u.isMatch;var l=[];return this.each(function(d,_){l.push(_.primaryKey)}).then(function(){return l}).then(i)},uniqueKeys:function(i){return this._ctx.unique="unique",this.keys(i)},firstKey:function(i){return this.limit(1).keys(function(u){return u[0]}).then(i)},lastKey:function(i){return this.reverse().firstKey(i)},distinct:function(){var i=this._ctx,u=i.index&&i.table.schema.idxByName[i.index];if(!u||!u.multi)return this;var l={};return e(this._ctx,function(d){var _=d.primaryKey.toString(),w=P(l,_);return l[_]=!0,!w}),this}}}),$(ee).from($t).extend({modify:function(e){var r=this,s=this._ctx,h=s.table.hook,f=h.updating.fire,v=h.deleting.fire;return wt&&"function"==typeof e&&e.call({value:s.table.schema.instanceTemplate},s.table.schema.instanceTemplate),this._write(function(a,i,u,l){var d;if("function"==typeof e)d=f===B&&v===B?e:function(k){var G=Kt(k);if(!1===e.call(this,k,this))return!1;if(P(this,"value")){var z=Mn(G,this.value),ct=f.call(this,z,this.primKey,G,l);ct&&(k=this.value,A(ct).forEach(function(gt){mt(k,gt,ct[gt])}))}else v.call(this,this.primKey,k,l)};else if(f===B){var _=A(e),w=_.length;d=function(k){for(var G=!1,z=0;z<w;++z){var ct=_[z],gt=e[ct];bt(k,ct)!==gt&&(mt(k,ct,gt),G=!0)}return G}}else{var S=e;e=kn(S),d=function(k){var G=!1,z=f.call(this,e,this.primKey,Kt(k),l);return z&&j(e,z),A(e).forEach(function(ct){var gt=e[ct];bt(k,ct)!==gt&&(mt(k,ct,gt),G=!0)}),z&&(e=kn(S)),G}}var m=0,D=0,Z=!1,U=[],F=[],st=null;function E(k){return k&&(U.push(k),F.push(st)),i(new vn("Error modifying one or more objects",U,D,F))}function nt(){Z&&D+U.length===m&&(U.length>0?E():a(D))}r.clone().raw()._iterate(function(k,G){st=G.primaryKey;var z={primKey:G.primaryKey,value:k,onsuccess:null,onerror:null};function ct(Ct){return U.push(Ct),F.push(z.primKey),nt(),!0}if(!1!==d.call(z,k,z)){var gt=!P(z,"value");++m,Ht(function(){var Ct=gt?G.delete():G.update(z.value);Ct._hookCtx=z,Ct.onerror=Tn(ct),Ct.onsuccess=Yt(function(){++D,nt()})},ct)}else z.onsuccess&&z.onsuccess(z.value)},function(){Z=!0,nt()},E,u)})},delete:function(){var e=this,r=this._ctx,s=r.range,h=r.table.hook.deleting.fire,f=h!==B;if(!f&&hn(r)&&(r.isPrimKey&&!ze||!s))return this._write(function(a,i,u){var l=_t(i),d=s?u.count(s):u.count();d.onerror=l,d.onsuccess=function(){var _=d.result;Ht(function(){var w=s?u.delete(s):u.clear();w.onerror=l,w.onsuccess=function(){return a(_)}},function(w){return i(w)})}});var v=f?2e3:1e4;return this._write(function(a,i,u,l){var d=0,_=e.clone({keysOnly:!r.isMatch&&!f}).distinct().limit(v).raw(),w=[],S=function(){return _.each(f?function(m,D){w.push([D.primaryKey,D.value])}:function(m,D){w.push(D.primaryKey)}).then(function(){return w.sort(f?function(m,D){return Tt(m[0],D[0])}:Tt),De(u,l,w,f,h)}).then(function(){var m=w.length;return d+=m,w=[],m<v?d:S()})};a(S())})}}),j(this,{Collection:$t,Table:Wt,Transaction:At,Version:Xt,WhereClause:Ft,WriteableCollection:ee,WriteableTable:En}),C.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+C.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+C.name+"'. Closing db now to resume the delete request."),C.close()}),C.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+C.name+"') was blocked"):console.warn("Upgrade '"+C.name+"' blocked by other connection holding version "+e.oldVersion/10)}),p.forEach(function(e){e(C)})}I(rt,_e);var Dn=function(){},wt=!1;function ye(t){if("function"==typeof t)return new t;if(J(t))return[ye(t[0])];if(t&&"object"==typeof t){var n={};return Sn(n,t),n}return t}function Sn(t,n){return A(n).forEach(function(o){var c=ye(n[o]);t[o]=c}),t}function sn(t){return function(n){t(n.target.result)}}function Yt(t){return ht(function(n){var o=n.target,c=o.result,p=o._hookCtx,y=p&&p.onsuccess;y&&y(c),t&&t(c)},t)}function _t(t){return function(n){return cn(n),t(n.target.error),!1}}function Tn(t){return ht(function(n){var o=n.target,c=o.error,p=o._hookCtx,y=p&&p.onerror;return y&&y(c),cn(n),t(c),!1})}function cn(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function zn(t){var n,o=pt.dependencies.localStorage;if(!o)return t([]);try{n=JSON.parse(o.getItem("Dexie.DatabaseNames")||"[]")}catch(c){n=[]}t(n)&&o.setItem("Dexie.DatabaseNames",JSON.stringify(n))}function Yn(t){var n=function(T){return t.next(T)},c=y(n),p=y(function(T){return t.throw(T)});function y(T){return function(R){var W=T(R),q=W.value;return W.done?q:q&&"function"==typeof q.then?q.then(c,p):J(q)?M.all(q).then(c,p):c(q)}}return y(n)()}function Gt(t,n,o,c,p,y,T){this.name=t,this.keyPath=n,this.unique=o,this.multi=c,this.auto=p,this.compound=y,this.dotted=T;var R="string"==typeof n?n:n&&"["+[].join.call(n,"+")+"]";this.src=(o?"&":"")+(c?"*":"")+(p?"++":"")+R}function ln(t,n,o,c){this.name=t,this.primKey=n||new Gt,this.indexes=o||[new Gt],this.instanceTemplate=c,this.mappedClass=null,this.idxByName=Pn(o,function(p){return[p.name,p]})}H(ln,{diff:function(t,n){var c={name:t.name,def:n,recreate:!1,del:[],add:[],change:[]};if(t.primKey.src!==n.primKey.src)return c.recreate=!0,c;var p=t.idxByName,y=n.idxByName;for(var T in p)y[T]||c.del.push(T);for(var R in y){var W=p[R],q=y[R];W?W.src!==q.src&&c.change.push(q):c.add.push(q)}return c.del.length>0||c.add.length>0||c.change.length>0?c:null}});var be=ot.idbModules&&ot.idbModules.shimIndexedDB?ot.idbModules:{};function Gn(t){return 1===t.length?t[0]:t}function we(t){var n=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return n&&n.bind(t)}return H(pt,pn),H(pt,{delete:function(t){var n=new pt(t),o=n.delete();return o.onblocked=function(c){return n.on("blocked",c),this},o},exists:function(t){return new pt(t).open().then(function(n){return n.close(),!0}).catch(pt.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){return new M(function(n,o){var c=we(indexedDB);if(c){var p=c();p.onsuccess=function(y){n(In(y.target.result,0))},p.onerror=_t(o)}else zn(function(y){return n(y),!1})}).then(t)},defineClass:function(t){return function(o){o?j(this,o):wt&&Sn(this,t)}},applyStructure:Sn,ignoreTransaction:function(t){return L.trans?Vn(L.transless,t):t()},vip:function(t){return Zt(function(){return L.letThrough=!0,t()})},async:function(t){return function(){try{var n=Yn(t.apply(this,arguments));return n&&"function"==typeof n.then?n:M.resolve(n)}catch(o){return Et(o)}}},spawn:function(t,n,o){try{var c=Yn(t.apply(o,n||[]));return c&&"function"==typeof c.then?c:M.resolve(c)}catch(p){return Et(p)}},currentTransaction:{get:function(){return L.trans||null}},Promise:M,debug:{get:function(){return rt},set:function(t){I(t,"dexie"===t?function(){return!0}:_e)}},derive:$,extend:j,props:H,override:re,Events:Nt,events:Nt,getByKeyPath:bt,setByKeyPath:mt,delByKeyPath:function(t,n){"string"==typeof n?mt(t,n,void 0):"length"in n&&[].map.call(n,function(o){mt(t,o,void 0)})},shallowClone:kn,deepClone:Kt,getObjectDiff:Mn,asap:ie,maxKey:Nn,addons:[],connections:un,MultiModifyError:O.Modify,errnames:Me,IndexSpec:Gt,TableSchema:ln,dependencies:{indexedDB:be.shimIndexedDB||ot.indexedDB||ot.mozIndexedDB||ot.webkitIndexedDB||ot.msIndexedDB,IDBKeyRange:be.IDBKeyRange||ot.IDBKeyRange||ot.webkitIDBKeyRange},semVer:"1.4.1",version:"1.4.1".split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,o){return t+n/Math.pow(10,2*o)}),fakeAutoComplete:Dn,default:pt}),Ht(function(){pt.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:ot.localStorage}),M.rejectionMapper=function(t,n){if(!t||t instanceof Vt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!se[t.name])return t;var o=new se[t.name](n||t.message,t);return"stack"in t&&Q(o,"stack",{get:function(){return this.inner.stack}}),o},dn(function(){pt.fakeAutoComplete=Dn=dn,pt.fake=wt=!0}),pt}()},1908:(Bt,rt,I)=>{"use strict";I.d(rt,{z:()=>lt});var V=I(2238),b=I(2340),g=I(7716),it=I(4700),B=I(5618),ft=I(8583),dt=I(1095);function et(N,yt){if(1&N){const A=g.EpF();g.TgZ(0,"re-captcha",12),g.NdJ("resolved",function(ot){return g.CHM(A),g.oxw().resolved(ot)}),g.qZA()}if(2&N){const A=g.oxw();g.Q6J("siteKey",A.siteKey)}}function x(N,yt){if(1&N&&(g.TgZ(0,"div",13),g.TgZ(1,"button",14),g._uU(2),g.qZA(),g.qZA()),2&N){const A=g.oxw();g.xp6(1),g.Q6J("mat-dialog-close",!1),g.xp6(1),g.Oqu(A.data.cancel)}}function vt(N,yt){if(1&N&&(g.TgZ(0,"div",13),g.TgZ(1,"button",15),g._uU(2),g.qZA(),g.qZA()),2&N){const A=g.oxw();g.xp6(1),g.Q6J("disabled",!A.captchaValid)("mat-dialog-close",!0),g.xp6(1),g.Oqu(A.data.confirm)}}let lt=(()=>{class N{constructor(A,J){this.data=A,this.recaptchaV3Service=J,this.siteKey=b.N.captchaSiteKey,this.captchaValid=!1,this.captchaV3Triggered=!1}ngOnInit(){this.executeRecaptchaV3()}resolved(A){console.log(`Resolved captcha with response: ${A}`),this.captchaValid=!!A}executeRecaptchaV3(){this.recaptchaV3Service.execute("myAction").subscribe(A=>{console.log("Pass",A),this.captchaValid=!0,this.captchaV3Triggered=!0},A=>{console.error("Fail",A),this.captchaValid=!1,this.captchaV3Triggered=!0})}}return N.\u0275fac=function(A){return new(A||N)(g.Y36(V.WI),g.Y36(it.YC))},N.\u0275cmp=g.Xpm({type:N,selectors:[["app-captcha-dialog"]],decls:21,vars:5,consts:[["mat-dialog-title","","color"," primary",1,"themePrimaryTextInverse","appDialogTitle",2,"text-align","center","font-size","1.5rem"],[2,"text-align","center","border-bottom","1px solid rgba(118,118,118,1)","font-size","1.5rem"],["mat-dialog-content","",2,"align-items","center","text-align","center","width","100%","margin","auto"],["fxFlex","","fxLayout","column","fxLayoutGap","0.5rem","fxLayoutAlign","center center",2,"margin","1.5rem 0","width","100%"],[2,"width","100%","max-height","70vh"],[1,"appMainText",2,"text-overflow","ellipsis","overflow","hidden",3,"innerHtml"],[1,"appCaptcha"],[3,"siteKey","resolved",4,"ngIf"],["href","https://policies.google.com/privacy"],["href","https://policies.google.com/terms"],["mat-dialog-actions","",2,"width","100%","margin-bottom","0.5rem"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],[3,"siteKey","resolved"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["mat-flat-button","","color","accent",1,"appConfirmButton","appSquareButton","appSkinnyFontButton",2,"margin-right","1rem",3,"mat-dialog-close"],["mat-flat-button","","color","accent",1,"appConfirmButton","appSquareButton","appSkinnyFontButton",2,"margin-right","1rem",3,"disabled","mat-dialog-close"]],template:function(A,J){1&A&&(g.TgZ(0,"p",0),g._uU(1),g.qZA(),g._UZ(2,"p",1),g.TgZ(3,"div",2),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g._UZ(6,"h3",5),g.TgZ(7,"div",6),g.YNc(8,et,1,1,"re-captcha",7),g.qZA(),g.TgZ(9,"div"),g.TgZ(10,"small"),g._uU(11,"This site is protected by reCAPTCHA and the Google "),g.TgZ(12,"a",8),g._uU(13,"Privacy Policy"),g.qZA(),g._uU(14," and "),g.TgZ(15,"a",9),g._uU(16,"Terms of Service"),g.qZA(),g._uU(17," apply. "),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"div",10),g.YNc(19,x,3,2,"div",11),g.YNc(20,vt,3,3,"div",11),g.qZA()),2&A&&(g.xp6(1),g.hij(" ",J.data.title||"Confirm Action",""),g.xp6(5),g.Q6J("innerHtml",J.data.text,g.oJD),g.xp6(2),g.Q6J("ngIf",!1===J.captchaValid&&!0===J.captchaV3Triggered),g.xp6(11),g.Q6J("ngIf",null==J.data?null:J.data.cancel),g.xp6(1),g.Q6J("ngIf",null==J.data?null:J.data.confirm))},directives:[V.uh,V.xY,B.yH,B.xw,B.SQ,B.Wh,ft.O5,V.H8,it.wT,dt.lW,V.ZT],styles:[".appCaptcha[_ngcontent-%COMP%]{display:flex;justify-content:center}.appConfirmButton[_ngcontent-%COMP%]{margin-bottom:.5rem}"]}),N})()},3757:(Bt,rt,I)=>{"use strict";I.d(rt,{W:()=>et});var V=I(2238),b=I(7716),g=I(5618),it=I(8583),B=I(1095);function ft(x,vt){if(1&x&&(b.TgZ(0,"div",8),b.TgZ(1,"button",9),b._uU(2),b.qZA(),b.qZA()),2&x){const lt=b.oxw();b.xp6(1),b.Q6J("mat-dialog-close",!1),b.xp6(1),b.Oqu(lt.data.cancel)}}function dt(x,vt){if(1&x&&(b.TgZ(0,"div",8),b.TgZ(1,"button",9),b._uU(2),b.qZA(),b.qZA()),2&x){const lt=b.oxw();b.xp6(1),b.Q6J("mat-dialog-close",!0),b.xp6(1),b.Oqu(lt.data.confirm)}}let et=(()=>{class x{constructor(lt){this.data=lt}ngOnInit(){}}return x.\u0275fac=function(lt){return new(lt||x)(b.Y36(V.WI))},x.\u0275cmp=b.Xpm({type:x,selectors:[["app-info-dialog"]],decls:10,vars:4,consts:[["mat-dialog-title","","color"," primary",1,"themePrimaryTextInverse","appDialogTitle",2,"text-align","center","font-size","1.5rem"],[2,"text-align","center","border-bottom","1px solid rgba(118,118,118,1)","font-size","1.5rem"],["mat-dialog-content","",2,"align-items","center","text-align","center","width","100%","margin","auto"],["fxFlex","","fxLayout","column","fxLayoutGap","0.5rem","fxLayoutAlign","center center",2,"margin","1.5rem 0","width","100%"],[2,"width","100%","max-height","70vh"],[1,"appMainText",2,"text-overflow","ellipsis","overflow","hidden",3,"innerHtml"],["mat-dialog-actions","",2,"width","100%","margin-bottom","0.5rem"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center",4,"ngIf"],["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["mat-flat-button","","color","accent",1,"appConfirmButton","appSquareButton","appSkinnyFontButton",2,"margin-right","1rem",3,"mat-dialog-close"]],template:function(lt,N){1&lt&&(b.TgZ(0,"p",0),b._uU(1),b.qZA(),b._UZ(2,"p",1),b.TgZ(3,"div",2),b.TgZ(4,"div",3),b.TgZ(5,"div",4),b._UZ(6,"h3",5),b.qZA(),b.qZA(),b.qZA(),b.TgZ(7,"div",6),b.YNc(8,ft,3,2,"div",7),b.YNc(9,dt,3,2,"div",7),b.qZA()),2&lt&&(b.xp6(1),b.hij(" ",N.data.title||"Confirm Action",""),b.xp6(5),b.Q6J("innerHtml",N.data.text,b.oJD),b.xp6(2),b.Q6J("ngIf",null==N.data?null:N.data.cancel),b.xp6(1),b.Q6J("ngIf",null==N.data?null:N.data.confirm))},directives:[V.uh,V.xY,g.yH,g.xw,g.SQ,g.Wh,V.H8,it.O5,B.lW,V.ZT],styles:[".appDialogTitle[_ngcontent-%COMP%]{color:#2a381e}.appMainText[_ngcontent-%COMP%]{color:#434343}"]}),x})()},5162:(Bt,rt,I)=>{"use strict";I.d(rt,{b:()=>B});var V=I(2238),b=I(7716),g=I(5618),it=I(4885);let B=(()=>{class ft{constructor(et){this.message=et}}return ft.\u0275fac=function(et){return new(et||ft)(b.Y36(V.WI))},ft.\u0275cmp=b.Xpm({type:ft,selectors:[["app-loading-dialog"]],decls:7,vars:1,consts:[["mat-dialog-title","","color","primary",1,"themePrimaryTextInverse",2,"text-align","center","border-bottom","1px solid rgba(118,118,118,1)","font-size","1.5rem"],["mat-dialog-content","",2,"align-items","center","text-align","center","width","100%","margin","auto"],["fxFlex","","fxLayout","column","fxLayoutGap","1.75rem","fxLayoutAlign","center center",2,"width","100%"],[1,"centerX"],[2,"font-size","1.2rem","line-height","1.5rem","text-overflow","ellipsis","overflow","hidden"]],template:function(et,x){1&et&&(b.TgZ(0,"p",0),b._uU(1,"Please Wait"),b.qZA(),b.TgZ(2,"div",1),b.TgZ(3,"div",2),b._UZ(4,"mat-spinner",3),b.TgZ(5,"p",4),b._uU(6),b.qZA(),b.qZA(),b.qZA()),2&et&&(b.xp6(6),b.hij(" ",x.message," "))},directives:[V.uh,V.xY,g.yH,g.xw,g.SQ,g.Wh,it.$g],styles:[""]}),ft})()},1338:(Bt,rt,I)=>{"use strict";I.d(rt,{A:()=>b});var V=I(1954);class b{}b.LocationHelperText='Search for an address or click "Select Location" and click on the map, then click "Save Location".',b.ContactHelperText="Provide your contact information in case the Game Commission or the Wildlife Futures Program needs to contact you to discuss your observation.",b.OfflineMap="Looks like you currently have limited network connection.  Loading a simplified offline map view until connection is restored.",b.AnimalHelperText="Provide the details of your bird or mammal observation. Any amphibian, fish, or reptile observations should be directed to the Pennsylvania Fish and Boat Commission. Any domestic animal observations should be directed to the Pennsylvania Department of Agriculture. * Denotes Required Field.",b.PhotosHelperText="Total size of all files cannot exceed 25 MB.",b.RabiesPopup="Signs vary but mammals infected with rabies can exhibit aggression, vocalization, excessive drooling, a lack of fear of humans, difficulty standing or walking, paralysis, circling, incoordination, or head tilt. Rabies testing should always be pursued whenever a bat is found in the same room with a sleeping person, an unattended child, an intoxicated or impaired person, or anyone unable to confirm that they were not bitten.",b.CaptivePopup="Is the animal from a captive facility or did it come from the wild? Captive animals may have collars or ear tags.",b.PoachingPopup='<p>The illegal shooting or taking of big game or protected, endangered or threatened species, or any crime against those species should be reported through <a href="https://www.pgc.pa.gov/HuntTrap/Law/Pages/OperationGameThief.aspx" target="_blank">Operation Game Thief</a> by calling <a href="tel:1-888-742-8001">1-888-PGC-8001</a> or submitting a report <a href="https://pgcdatacollection.pa.gov/operationgamethief" target="_blank">online</a>.</p>',b.CurrentlyOffline='<p>You are currently offline or are in an area with poor connectivity and your Observation cannot be submitted at this time.</p><p>Click <strong>"Save and Return Home"</strong> to save your observation to your device so it can be uploaded when you are connected again.</p><p>Or click <strong>"Close"</strong> to stay on the page.</p>',b.UploadTooLarge="Your files are too large.  Please make sure they do not exceed 25MB.",b.UploadWrongType="Some or all of your files did not upload due to an incorrect file type.",b.UploadTooltip="Looks like you have some Observations that were saved on your device while you were offline.  Now that you are online again, click to upload them.",b.BulkUploadConfirmation=`Thank you for submitting an observation to the Pennsylvania Game Commission's ${V.y.AppName}.`,b.ConfirmSubmit="Are you sure you want to submit your wildlife health observation?",b.ConfirmActionNeededShort=`<p>Based on your observation details, further investigation by a State Game Warden may be required. Please immediately call the Game Commission at <a href="tel:${V.y.GameCommissionPhone}">${V.y.GameCommissionPhone}</a>.</p><p>Please do not handle wildlife that appears abnormal, injured, sick, or is found dead.  More information can be found at <a href="https://www.pgc.pa.gov/wildlifehealth" target="_blank">pgc.pa.gov/wildlifehealth</a>.</p>`,b.ConfirmNoActionNeededShort='<p>Based on your observation details, the Game Commission or the <a href="https://www.vet.upenn.edu/research/centers-laboratories/research-initiatives/wildlife-futures-program" target="_blank">Wildlife Futures Program</a> may contact you for additional information.</p><p>Follow-up contact is not guaranteed but recent observations are prioritized.</p><p>Please do not handle wildlife that appears abnormal, injured, sick, or is found dead.  More information can be found at <a href="https://www.pgc.pa.gov/wildlifehealth" target="_blank">pgc.pa.gov/wildlifehealth</a>.</p>'},8791:(Bt,rt,I)=>{"use strict";I.d(rt,{n:()=>It});var g,V=I(8239),b=I(1954),it=new Uint8Array(16);function B(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(it)}const ft=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,et=function(K){return"string"==typeof K&&ft.test(K)};for(var x=[],vt=0;vt<256;++vt)x.push((vt+256).toString(16).substr(1));const A=function(K,P,H){var Q=(K=K||{}).random||(K.rng||B)();if(Q[6]=15&Q[6]|64,Q[8]=63&Q[8]|128,P){H=H||0;for(var $=0;$<16;++$)P[H+$]=Q[$];return P}return function(K){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,H=(x[K[P+0]]+x[K[P+1]]+x[K[P+2]]+x[K[P+3]]+"-"+x[K[P+4]]+x[K[P+5]]+"-"+x[K[P+6]]+x[K[P+7]]+"-"+x[K[P+8]]+x[K[P+9]]+"-"+x[K[P+10]]+x[K[P+11]]+x[K[P+12]]+x[K[P+13]]+x[K[P+14]]+x[K[P+15]]).toLowerCase();if(!et(H))throw TypeError("Stringified UUID is invalid");return H}(Q)};var J=I(4745),ot=I.n(J),j=I(7716);class Dt extends(ot()){constructor(){super(b.y.LocalStorageObsKey),this.version(1).stores({paww:"++dbId, uid, data"}),this.paww=this.table("paww")}}let It=(()=>{class K{constructor(){this.db=new Dt,this.db.open()}getObservations(){var H=this;return(0,V.Z)(function*(){return((yield H.db.paww.toArray())||[]).map(($,Pt)=>{const kt=JSON.parse($.data);return Object.assign(Object.assign({},kt),{dbId:$.dbId})})})()}setObservation(H){var Q=this;return(0,V.Z)(function*(){const $=A(),Pt=JSON.stringify(Object.assign({uid:$},H));yield Q.db.paww.add({uid:$,data:Pt})})()}removeObservation(H){var Q=this;return(0,V.Z)(function*(){H&&(yield Q.db.paww.delete(H))})()}hasObservations(){var H=this;return(0,V.Z)(function*(){const Q=yield H.getObservations();return(null==Q?void 0:Q.length)>0})()}}return K.\u0275fac=function(H){return new(H||K)},K.\u0275prov=j.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})()},4763:(Bt,rt,I)=>{"use strict";I.d(rt,{X:()=>ft});var V=I(6738),g=I(6215),it=I(1954),B=I(7716);let ft=(()=>{class dt{constructor(){this._initialState={geometry:{},inState:!0},this._observation=new g.X(this._initialState),this._observationMedia=new g.X([]),this._observationSubmitState=new g.X({})}getObservation(){return this._observation.asObservable()}getObservationMedia(){return this._observationMedia.asObservable()}updateObservation(x){return this._observation.next(Object.assign({},x)),this.getObservation()}updateObservationMedia(x){return this._observationMedia.next([...x]),this.getObservationMedia()}resetObservation(){return this._observation.next(Object.assign({},this._initialState)),this._observationMedia.next([]),this._observationSubmitState.next({}),this.getObservation()}getObservationDto(){return{data:this.convertObsVmToDto(this._observation.value),media:this._observationMedia.value}}getObservationSubmitState(){return this._observationSubmitState.value}setObservationSubmitState(x){this._observationSubmitState.next(Object.assign({},x))}convertObsVmToDto(x){var vt,lt,N,yt,A,J,ot,j,Dt,It,K,P,H,Q,$,Pt,kt,nn;return{LocationX:null===(vt=x.geometry)||void 0===vt?void 0:vt.long,LocationY:null===(lt=x.geometry)||void 0===lt?void 0:lt.lat,ObserverName:null===(N=x.contact)||void 0===N?void 0:N.name,ObserverAffiliation:null===(yt=x.contact)||void 0===yt?void 0:yt.affiliation,ObserverEmail:null===(A=x.contact)||void 0===A?void 0:A.email,ObserverPhone:null===(J=x.contact)||void 0===J?void 0:J.phone,ObserverDate:new Date,ObservationDate:null===(ot=x.information)||void 0===ot?void 0:ot.date,AnimalCountId:null===(j=x.information)||void 0===j?void 0:j.numberOfAnimals,SpeciesId:null===(Dt=x.information)||void 0===Dt?void 0:Dt.species,WildlifeStatusId:null===(It=x.information)||void 0===It?void 0:It.alive,SickInjured:null===(K=x.information)||void 0===K?void 0:K.sickOrInjured,Possession:null===(P=x.information)||void 0===P?void 0:P.inYourPossession,Poachingsuspect:null===(H=x.information)||void 0===H?void 0:H.poaching,WildlifeAgeId:null===(Q=x.information)||void 0===Q?void 0:Q.age,OriginId:null===($=x.information)||void 0===$?void 0:$.captiveWild,Rabies:null===(Pt=x.information)||void 0===Pt?void 0:Pt.rabies,ZoonoticExposure:null===(kt=x.information)||void 0===kt?void 0:kt.zoonotic,ObservationDescrition:null===(nn=x.information)||void 0===nn?void 0:nn.details}}checkIfRequiresAction(x){return x.Rabies===it.y.RefLookupYes||x.Possession===it.y.RefLookupYes||x.Poachingsuspect===it.y.RefLookupYes||x.SickInjured===it.y.RefLookupYes||x.ZoonoticExposure===it.y.RefLookupYes}isWithinDateRange(x){return!!x&&V(x).isSameOrAfter(V().subtract(2,"months"))}getConfirmationAction(x){return this.checkIfRequiresAction(x)&&this.isWithinDateRange(x.ObservationDate)?it.y.ConfFreshActionNeeded:!this.checkIfRequiresAction(x)&&this.isWithinDateRange(x.ObservationDate)?it.y.ConfFreshNoAction:this.isWithinDateRange(x.ObservationDate)?(console.error("Issue mapping data to confirmation type"),"error"):it.y.ConfStale}}return dt.\u0275fac=function(x){return new(x||dt)},dt.\u0275prov=B.Yz7({token:dt,factory:dt.\u0275fac,providedIn:"root"}),dt})()}}]);