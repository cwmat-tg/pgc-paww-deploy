<div class="appStepperContainer">

    <mat-stepper [linear]="this.isLinear" [orientation]="(this.stepperOrientation | async)!" #stepper>

        <!-- Step 1 -->
        <mat-step>

            <ng-template matStepLabel>Location</ng-template>
            
            <app-location></app-location>

        </mat-step>

        <!-- Step 2 -->
        <mat-step>

            <ng-template matStepLabel>Contact</ng-template>
          <div>test 2</div>

        </mat-step>

        <!-- Step 3 -->
        <mat-step class="appLastStep">

          <ng-template matStepLabel>Observation</ng-template>
          <p>You are now done.</p>
          <div>
            <button mat-button matStepperPrevious>Back</button>
            <button mat-button (click)="stepper.reset()">Reset</button>
          </div>
        </mat-step>

      </mat-stepper>

</div>

<footer id="appObservationFooter">

  <div fxFlex fxLayoutAlign="end center">

    <ng-container *ngIf="this.obsStore.getObservation() | async as obsData;">

      <ng-container *ngIf="obsData.inState">

        <button 
          *ngIf="stepper.selectedIndex > 0" 
          mat-flat-button color="primary" 
          class="appStepperButton" 
          type="button" 
          (click)="stepper.previous()">
            Back
        </button>

        <button 
          *ngIf="stepper.selectedIndex < this.totalSteps - 1" 
          mat-flat-button color="primary" 
          class="appStepperButton" 
          type="button" 
          (click)="stepper.next()">
            Next
        </button>

      </ng-container>

      <ng-container *ngIf="!obsData.inState">

        <button 
          mat-flat-button color="primary" 
          class="appStepperButton" 
          type="button" 
          (click)="this.routeOutOfState()">
            Next
        </button>

      </ng-container>

    </ng-container>

  </div>

</footer>